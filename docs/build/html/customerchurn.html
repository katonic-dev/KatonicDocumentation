

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>CustomerChurn &mdash; Katonic 0.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="E-commerce" href="e_commerce.html" />
    <link rel="prev" title="Iris" href="iris.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Katonic
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">List of Examples:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="automobile.html">Automobile</a></li>
<li class="toctree-l1"><a class="reference internal" href="iris.html">Iris</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">CustomerChurn</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#customerchurn-workflow">CustomerChurn workflow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dataset">Dataset</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#create-a-notebook">Create a Notebook</a></li>
<li class="toctree-l2"><a class="reference internal" href="#download-the-data-and-notebook">Download the data and notebook</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#upload-customerchurn-pipeline-notebook-file">Upload CustomerChurn pipeline notebook file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#explore-the-ml-code-of-the-customerchurn-usecase">Explore the ML code of the CustomerChurn usecase</a></li>
<li class="toctree-l2"><a class="reference internal" href="#convert-your-notebook-to-a-katonic-pipeline">Convert your notebook to a Katonic Pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="#katonic-pipeline-dashboard">Katonic Pipeline Dashboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pipeline-components-execution">Pipeline components execution</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="e_commerce.html">E-commerce</a></li>
<li class="toctree-l1"><a class="reference internal" href="creditcard.html">CreditCard</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Katonic</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>CustomerChurn</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/customerchurn.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="customerchurn">
<span id="id1"></span><h1>CustomerChurn<a class="headerlink" href="#customerchurn" title="Permalink to this headline">¶</a></h1>
<ol class="arabic simple">
<li><p>CustomerChurn workflow</p>
<ul class="simple">
<li><p>Dataset</p></li>
</ul>
</li>
<li><p>Create a Notebook</p></li>
<li><p>Download the data and notebook</p>
<ul class="simple">
<li><p>Upload CustomerChurn pipeline notebook file</p></li>
</ul>
</li>
<li><p>Explore the ML code of the CustomerChurn usecase</p></li>
<li><p>Convert your notebook to a Katonic Pipeline</p></li>
<li><p>Katonic Pipeline Dashboard</p></li>
<li><p>Pipeline components execution</p></li>
</ol>
<div class="section" id="customerchurn-workflow">
<h2>CustomerChurn workflow<a class="headerlink" href="#customerchurn-workflow" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Load the e_commerce dataset.</p></li>
<li><p>Transforms raw data into meaningful information by doing data preprocessing.</p></li>
<li><p>Splitting the data into training and testing sets.</p></li>
<li><p>X and Y axis labels for graphs or figures.</p></li>
<li><p>Training the different models</p></li>
<li><p>Evaluating the different modes and choosing the best model among them.</p></li>
</ul>
<p><strong>What we’re going to build</strong></p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/overview_graph2.png"><img alt="_images/overview_graph2.png" src="_images/overview_graph2.png" style="width: 686.0px; height: 429.5px;" /></a>
</div>
<div class="section" id="dataset">
<h3>Dataset<a class="headerlink" href="#dataset" title="Permalink to this headline">¶</a></h3>
<p>The dataset involved here is publicly available at <a class="reference external" href="https://www.kaggle.com/blastchar/telco-customer-churn">CustomerChurn Dataset</a> that predict the behaviour to retain customers and developed focused customer retention program, given all the information in the dataset.</p>
</div>
</div>
<div class="section" id="create-a-notebook">
<h2>Create a Notebook<a class="headerlink" href="#create-a-notebook" title="Permalink to this headline">¶</a></h2>
<p>Navigate to the <strong>Notebook</strong> link on the Katonic central dashboard.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/notebook.png"><img alt="_images/notebook.png" src="_images/notebook.png" style="width: 765.6px; height: 368.40000000000003px;" /></a>
</div>
<p>Click on <strong>Create Notebook</strong></p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/create.png"><img alt="_images/create.png" src="_images/create.png" style="width: 764.8000000000001px; height: 132.4px;" /></a>
</div>
<p>Specify a name for your Notebook</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/notebook_name.png"><img alt="_images/notebook_name.png" src="_images/notebook_name.png" style="width: 768.0px; height: 135.6px;" /></a>
</div>
<p>Make sure you have selected one of the image:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/choose_image.png"><img alt="_images/choose_image.png" src="_images/choose_image.png" style="width: 767.2px; height: 442.40000000000003px;" /></a>
</div>
<p>Select the <strong>CPU</strong> and <strong>Memory</strong> require:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/cpu_mo.png"><img alt="_images/cpu_mo.png" src="_images/cpu_mo.png" style="width: 757.6px; height: 429.6px;" /></a>
</div>
<p>Click <strong>Create</strong> to create the notebook.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/create2.png"><img alt="_images/create2.png" src="_images/create2.png" style="width: 752.8000000000001px; height: 326.40000000000003px;" /></a>
</div>
<p>When the notebook server is available, click Connect to connect to it.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/connect.png"><img alt="_images/connect.png" src="_images/connect.png" style="width: 961.8px; height: 85.39999999999999px;" /></a>
</div>
</div>
<div class="section" id="download-the-data-and-notebook">
<h2>Download the data and notebook<a class="headerlink" href="#download-the-data-and-notebook" title="Permalink to this headline">¶</a></h2>
<p>A new tab will open up with the JupyterLab landing page. Create a new Terminal in JupyterLab.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/terminal.png"><img alt="_images/terminal.png" src="_images/terminal.png" style="width: 768.0px; height: 374.0px;" /></a>
</div>
<div class="section" id="upload-customerchurn-pipeline-notebook-file">
<h3>Upload CustomerChurn pipeline notebook file<a class="headerlink" href="#upload-customerchurn-pipeline-notebook-file" title="Permalink to this headline">¶</a></h3>
<p>In the Terminal window, run these commands and download the notebook and the data that you will use for the remainder of the lab.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>git clone <a class="reference external" href="https://github.com/katonic-dev/Examples.git">https://github.com/katonic-dev/Examples.git</a></p>
</div>
<p>This repository contains a series of curated examples with data and annotated Notebooks. Navigate to the folder in the sidebar and open the notebook <a class="reference external" href="https://github.com/katonic-dev/Examples/blob/master/customer_churn/customer_churn.ipynb">customer_churn.ipynb</a> inside <strong>Examples/customerchurn/</strong>.</p>
</div>
</div>
<div class="section" id="explore-the-ml-code-of-the-customerchurn-usecase">
<h2>Explore the ML code of the CustomerChurn usecase<a class="headerlink" href="#explore-the-ml-code-of-the-customerchurn-usecase" title="Permalink to this headline">¶</a></h2>
<p>Run the notebook step-by-step. Note that the code fails because a library is missing.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/missing_lib2.png"><img alt="_images/missing_lib2.png" src="_images/missing_lib2.png" style="width: 767.6px; height: 377.20000000000005px;" /></a>
</div>
<p>You can install the required libraries either by go to the Terminal and install the missing library or directly in the cell in the notebook.</p>
<p>Run the cell right above to install the missing libraries:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/pip_install2.png"><img alt="_images/pip_install2.png" src="_images/pip_install2.png" style="width: 765.6px; height: 374.40000000000003px;" /></a>
</div>
<p>Restart the notebook kernel by clicking on the Refresh icon.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/restart2.png"><img alt="_images/restart2.png" src="_images/restart2.png" style="width: 765.2px; height: 375.6px;" /></a>
</div>
</div>
<div class="section" id="convert-your-notebook-to-a-katonic-pipeline">
<h2>Convert your notebook to a Katonic Pipeline<a class="headerlink" href="#convert-your-notebook-to-a-katonic-pipeline" title="Permalink to this headline">¶</a></h2>
<p>Enable Kale by clicking on the Kale slider in the Kale Deployment Panel (left pane of the notebook).</p>
<p><strong>Kale:</strong></p>
<ul class="simple">
<li><p>Kale is a project that aims at simplifying the Data Science experience of deploying Pipelines workflows.</p></li>
<li><p>Kale bridges this gap by providing a simple UI to define Kubeflow Pipelines workflows directly from you JupyterLab interface, without the need to change a single line of code.</p></li>
<li><p>Kale was designed to address difficulties by providing a tool to simplify the deployment process of a Jupyter Notebook into Katonic Pipelines workflows. Translating Jupyter Notebook directly into a Katonic pipeline ensures that all the processing building blocks are well organized and independent from each other, while also leveraging on the experiment tracking and workflows organization.</p></li>
<li><p>Kale takes as input the annotated Jupyter Notebook and generates a standalone Python script that defines the Katonic pipeline, based on the Notebook and Cells annotations.</p></li>
</ul>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/kale2.png"><img alt="_images/kale2.png" src="_images/kale2.png" style="width: 768.0px; height: 375.20000000000005px;" /></a>
</div>
<p>Explore per-cell dependencies.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/kale_deploy2.png"><img alt="_images/kale_deploy2.png" src="_images/kale_deploy2.png" style="width: 768.0px; height: 376.0px;" /></a>
</div>
<p>See how multiple notebook cells can be part of a single pipeline step, as indicated by color bars on the left of the cells, and how a pipeline step may depend on previous ones, as indicated by depends on labels above the cells. For example, the image below shows multiple cells that are part of the same pipeline step. They have the same brown color and they depend on a previous pipeline step named “load_data”.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/tag.png"><img alt="_images/tag.png" src="_images/tag.png" style="width: 768.0px; height: 290.40000000000003px;" /></a>
</div>
<p>Normally, you should create a new Docker image to be able run this notebook as a Katonic pipeline, to include the newly installed libraries.</p>
<p>Click <strong>Advanced Settings</strong> and add Docker image</p>
<p><strong>Docker image:</strong></p>
<ul class="simple">
<li><p>Docker is a tool for running applications in an isolated environment. It gives you advantages similar to running your applications inside a virtual machine.</p></li>
<li><p>Docker gives you these advantages but without the overhead and hassle of running and managing a virtual machine instead we have containers, the code and the environment are all wrapped up inside a container but a container is not a full virtual machine.</p></li>
<li><p>Docker uses special features of the UNIX file system to create these isolated environments.</p></li>
<li><p>Images are defined using a docker file, a docker file is just a text file with a list of steps to perform to create that image. So, you write a docker file then you build that and you get an image which you can run to get containers.</p></li>
</ul>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/adv_set.png"><img alt="_images/adv_set.png" src="_images/adv_set.png" style="width: 211.0px; height: 470.5px;" /></a>
</div>
<p>Click the <strong>Volume access mode</strong> and select the mode.</p>
<ul class="simple">
<li><p>ReadOnlyMany - Read only by many node</p></li>
<li><p>ReadWriteOnce - Read write by single node</p></li>
<li><p>ReadWriteMany - Read write by many node</p></li>
</ul>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/mode.png"><img alt="_images/mode.png" src="_images/mode.png" style="width: 209.5px; height: 306.5px;" /></a>
</div>
<p>Click the <strong>Compile and Run</strong> button.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/comp_run2.png"><img alt="_images/comp_run2.png" src="_images/comp_run2.png" style="width: 228.0px; height: 470.5px;" /></a>
</div>
<p>Watch the progress of Compiling Notebook.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/comp.png"><img alt="_images/comp.png" src="_images/comp.png" style="width: 231.5px; height: 122.5px;" /></a>
</div>
<p>Watch the progress of Running pipeline</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/run.png"><img alt="_images/run.png" src="_images/run.png" style="width: 229.0px; height: 161.0px;" /></a>
</div>
<p>Click the link to go to the Katonic Pipelines UI and view the run.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/view.png"><img alt="_images/view.png" src="_images/view.png" style="width: 228.5px; height: 163.0px;" /></a>
</div>
</div>
<div class="section" id="katonic-pipeline-dashboard">
<h2>Katonic Pipeline Dashboard<a class="headerlink" href="#katonic-pipeline-dashboard" title="Permalink to this headline">¶</a></h2>
<p>After clicking view, select the customerchurn experiment</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/act_exp2.png"><img alt="_images/act_exp2.png" src="_images/act_exp2.png" style="width: 768.0px; height: 352.0px;" /></a>
</div>
<p>Dropdown the experiment and select the latest pipeline which is created</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/rec_pipe2.png"><img alt="_images/rec_pipe2.png" src="_images/rec_pipe2.png" style="width: 762.8000000000001px; height: 342.8px;" /></a>
</div>
<p>Wait for it to complete.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/pipe_start2.png"><img alt="_images/pipe_start2.png" src="_images/pipe_start2.png" style="width: 765.2px; height: 292.8px;" /></a>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/pipe_comp2.png"><img alt="_images/pipe_comp2.png" src="_images/pipe_comp2.png" style="width: 819.2px; height: 526.4px;" /></a>
</div>
</div>
<div class="section" id="pipeline-components-execution">
<h2>Pipeline components execution<a class="headerlink" href="#pipeline-components-execution" title="Permalink to this headline">¶</a></h2>
<p>Visualization of CustomerChurn Load data Components</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/load_vis1.png"><img alt="_images/load_vis1.png" src="_images/load_vis1.png" style="width: 536.4px; height: 342.0px;" /></a>
</div>
<p>Visualization of CustomerChurn Data preprocessing Components</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/prepro_vis2.png"><img alt="_images/prepro_vis2.png" src="_images/prepro_vis2.png" style="width: 534.4px; height: 335.20000000000005px;" /></a>
</div>
<p>Visualization of CustomerChurn Decision tree model Components</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/dt_model_vis.png"><img alt="_images/dt_model_vis.png" src="_images/dt_model_vis.png" style="width: 533.6px; height: 336.8px;" /></a>
</div>
<p>Visualization of CustomerChurn Model evaluation Components</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/dt_model_vis.png"><img alt="_images/dt_model_vis.png" src="_images/dt_model_vis.png" style="width: 533.6px; height: 336.8px;" /></a>
</div>
<p>Visualization of CustomerChurn Model evaluation Components</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="_images/model_eval_vis.png"><img alt="_images/model_eval_vis.png" src="_images/model_eval_vis.png" style="width: 535.2px; height: 324.8px;" /></a>
</div>
<p>Congratulations! You just ran an end-to-end Katonic Pipeline starting from your notebook!</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="e_commerce.html" class="btn btn-neutral float-right" title="E-commerce" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="iris.html" class="btn btn-neutral float-left" title="Iris" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Trishla.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>